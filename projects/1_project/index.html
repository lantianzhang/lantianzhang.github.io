<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rodents Complaints in NYC | Lantian  Zhang</title>
    <meta name="author" content="Lantian  Zhang">
    <meta name="description" content="Investigating the Factors that Contribute to Rodent Outbreaks">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://lantianzhang.github.io/projects/1_project/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Lantian </span>Zhang</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>
              

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">Projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/resume/">Resume</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Rodents Complaints in NYC</h1>
            <p class="post-description">Investigating the Factors that Contribute to Rodent Outbreaks</p>
          </header>

          <article>
            <p>The project aims to identify the factors that contribute to high rates of rodent complaints in New York City using a variety of datasets found on NYC Open Data including 311 complaints, restaurant inspections and sanitation complaints using machine learning classification and prediction approaches.</p>

<p>The datasets we used included Rat Sightings and Sanitatory Conditions from 311 complaints, DOH Restaurant Inspections, and Subway entrances. The analysis is based on 5-year rodent related data (2018-2023), which is merged into the census block group spatial unit. The categorical data are encoded and all the data are scaled. For the analysis part we use Number of Rodent Sightings from 311 Complaints as the target variables, while the predictors include 311 Sanitation Complaints by Types, 311 Rodent Complaints by Location and Time, and Restaurant Inspection Results by Violation Type and Cuisine.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/12-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/12-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/12-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/12.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="New York City 311 Rodent Sightings Choropleth
Map (2019)" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
    New York City 311 Rodent Sightings Choropleth Map (2019)
</div>

<p>Fundamentally, the nature of this study was exploratory and not hypothesis driven. Hence, a large number of data sets available online were considered and finally a smaller but relevant subset was selected for analysis (a significant amount of the data that is available online is not directly predictive or indicative of rodents). Hence, the aforementioned data sources were used. The restaurants inspection, subway entrance locations and sanitation complaints are usually (by pure human intuition) considered to be very indicative of rodent problems. Hence, we decided to use the same to assess/check for any correlation between them and rodent sightings from 311 complaints.</p>

<p>For data processing, geospatial data was used to generate a census block level GeoDataframe. Then, all rodent sightings (individual 311 complaints) were mapped to geometric location and date of inspection. This was further processed for mapping rodent sightings count to census blocks with the sightings count being discretized for day of week, time of day and location type i.e., residential, offices etc.   Similar exercises were done for subway counts, restaurant inspections and DSNY complaints. DSNY complaints were discretized to dog waste, illegal dumping on street, dead animals and trash complaints (some of the data was discretized further). Similarly restaurant inspection data was discretized for different pest issues and cuisine type. Finally, considering socio-economic factors, median household income was mapped to the census blocks and was included the main data set as well.</p>

<p>The final data set contained census block groups mapping to rodent sighting and complaints for each year from 2018 to 2023.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/rodent_kmeans_clusters-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/rodent_kmeans_clusters-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/rodent_kmeans_clusters-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/rodent_kmeans_clusters.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="New York City 311 Rodent Sightings Choropleth
Map (2019)" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
     Maps of each K-means cluster of Rodent Sighting per Census Block Groups (2019)
</div>

<div class="row justify-content-sm-center">
    <div class="col-sm-9 mt-3 mt-md-0">
        To understand how census blocks can be grouped together, unsupervised Kmeans was run using SKlearn based on 4 attributes: 311 rat sightings, restaurants rats/mice violations, sanitation related 311 reports of illegal dumping and unsecured trash in the street. The silhouette score of 0.56 was a peak at 6 clusters. Cluster 4 has the highest rates of sightings, violations and sanitation complaints. Clusters 1 and 5 are also suspect for intervention. For instance the census block area with Chelsea market showed up here with high rates of restaurant violations in cluster 5.
    </div>

    <div class="col-sm-3 mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/KM_cluster_description-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/KM_cluster_description-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/KM_cluster_description-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/KM_cluster_description.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Description of the Clusters" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<div class="row justify-content-sm-center">
    <div class="col-sm-6 mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/rodent_kmeans_anomalies-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/rodent_kmeans_anomalies-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/rodent_kmeans_anomalies-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/rodent_kmeans_anomalies.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Description of the Clusters" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm-6 mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/rodent_anomalies-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/rodent_anomalies-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/rodent_anomalies-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/rodent_anomalies.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
    On the left, map of census block groups K Means anomalies (2019); On the right, map of census block groups DBSCAN ensemble anomalies (2019)
</div>

<p>For the  k-means anomaly analysis, a k-means model was fit to the dataset, then the distance of each point to its nearest cluster center was calculated. A threshold of 99 percent was set for the minimum distance that identifies anomalies as points with minimum distance above the threshold.</p>

<p>To determine which areas had the most anamoulous rodent sightings: Filter the clusters to only the ones where there are fewer than 5 percent of the census block groups as clusters(i.e. very few clusters). Iterate over all results of the anomalies to find all possible epsilon and min sample hyperparameters that result in anomalies. Then, summarize the number of times the census block group is identified as an anomaly. 
Take the results of the summarization and create a heat map (choropleth) to show where the anomalies occur. This method of analyzing rodent sightings could be considered as a form of ensemble anomaly detection since it iterates over multiple combinations of hyperparameters (epsilon and min samples) to identify anomalies.</p>

<p>The anomaly findings of Kmeans and DBSCAN highlight very different results. In the Kmeans, 25 census block groups that have high rates of rodent sightings and unsecured trash are anomalous. While in the DBSCAN results, anomalies show areas that have low rodent sightings.</p>

<p>This clustering analysis could be improved by using the original latitude/longitude rather than the aggregated count of rodent sightings. Additionally, more environmental and socio-economic datasets could be used.</p>

<p>We then chose Decision Tree to look at the importance of each feature, based on the Gini importance.</p>

<p>Looking at the composition of the attributes, we decided our approach would be to use different ones as the target variables. First we used the number of complaints on rodent sightings from 3ll data as the target variable. The subset of attributes we used to fit the decision tree model for this target includes violations from DOH restaurant inspections, and 311 complaints on unsanitary conditions. Among these attributes, complaints on trash on street is the most important. Next, we used the restaurant violations as the target variable. This time, we used the number of 311 complaints on rodent sightings by reporting locations, and 311 complaints on unsanitary conditions by type as the predictors. Among these attributes, the most important ones are complaints on trash on street, on rodent sightings from commercial buildings, on missed trash collection, on trash in residential buildings, and on illegal dumping trash on street. Finally, we used the number of sanitation complaints as the target variable, and we used the number of 311 complaints on rodent sightings by reporting locations, as well as the restaurant violations as the predictors.</p>

<p>It should be noted that the performance of the decision tree regression model on these 3 models is not ideal, with the in sample R-squared values between 0.1 and 0.2</p>

<p>Among these attributes, the most importance ones are complaints on rodent sightings in vacant space, in commercial space, and in residential space.</p>
<div class="row">
    <div class="col-sm-4 mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/dt_num_of_sightings-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/dt_num_of_sightings-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/dt_num_of_sightings-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/dt_num_of_sightings.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm-4 mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/dt_restaurant_violations-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/dt_restaurant_violations-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/dt_restaurant_violations-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/dt_restaurant_violations.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
    <div class="col-sm-4 mt-3 mt-md-0">
        <figure>

  <picture>
    
    <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/dt_dsny_complaints-480.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/dt_dsny_complaints-800.webp"></source>
    <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/dt_dsny_complaints-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/dt_dsny_complaints.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>
<div class="caption">
    From left to right, Gini importances when target variable is rodent sightings, restaurant violations, and sanitaion complaints, respectively. 
</div>

<p>The findings of this study can be summarized as follows: Kmeans was simple and useful approach that city officials could use to classify census block groups and identify problematic locations to target. DBSCAN is not recommended. Decision tree regression show limited correlation between the target variable and the predictors. Among the attributes, 311 complaints on street trash is the most important when using 311 complaints on rodent sightings as the indicator of rodent prevalence.</p>

<p>Upon reflection on these results, we have identified following areas for future research - census blocks may not be the best agglomeration unit since they may not capture the broader geospatial distribution of rodents. Future research could focus on larger geographic units to avoid getting sparse dataset.</p>

<p>Subway entrances may not be the best feature to assess for, if rodent populations depend on a broader but still localized network of subway station i.e., agglomeration of subway entrances (across different census blocks).</p>

<p>More datasets with characteristics of the landscape and socio-economics could have improved findings. Other datasets used in literature include the following: Land zoning, vacant buildings, public spaces (parks, etc.), building construction permit data, education level data at the census block group level.</p>

<p>Reporting bias was not addressed in this study. There could be instances where certain geographies over-report or under-report to 311 citations, which could cause there to be a misunderstanding of rodent prevenlance in the area.</p>


          </article>

        </div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 Lantian  Zhang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
